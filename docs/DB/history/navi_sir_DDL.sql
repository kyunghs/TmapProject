create database navi_sir;

USE navi_sir;

CREATE TABLE parking_info (
    NUM_OF_INDEX INT PRIMARY KEY,
    PARKING_CODE VARCHAR(50) NOT NULL UNIQUE,
    PARKING_NAME VARCHAR(100),
    ADDR VARCHAR(255),
    OPERATION_RULE_NM VARCHAR(100),
    CAPACITY INT,
    CUR_PARKING INT,
    CUR_PARKING_TIME DATETIME,
    PAY_YN CHAR(1),
    RATES DECIMAL(10, 2),
    ADD_RATES DECIMAL(10, 2),
    DAY_MAXIMUM DECIMAL(10, 2),
    LAT DECIMAL(10, 7),
    LNG DECIMAL(10, 7)
);

CREATE TABLE CH_PA_MARKER (
    NUM_OF_INDEX INT PRIMARY KEY,
    CHARGER_CODE VARCHAR(50) NOT NULL UNIQUE,
    PARKING_CODE VARCHAR(50) NOT NULL,
    ADDR VARCHAR(255),
    LAT DECIMAL(10, 7),
    LNG DECIMAL(10, 7),
    FOREIGN KEY (PARKING_CODE) REFERENCES parking_info(PARKING_CODE) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE charge_info (
    NUM_OF_INDEX INT PRIMARY KEY,
    CHARGER_CODE VARCHAR(50) NOT NULL,
    CHARGER_NAME VARCHAR(100),
    ADDR VARCHAR(255),
    OPERATION_RULE_NM VARCHAR(100),
    PAY_YN CHAR(1),
    RATES DECIMAL(10, 2),
    ADD_RATES DECIMAL(10, 2),
    DAY_MAXIMUM DECIMAL(10, 2),
    LAT DECIMAL(10, 7),
    LNG DECIMAL(10, 7),
    CHARGER_TYPE VARCHAR(50),
    FOREIGN KEY (CHARGER_CODE) REFERENCES CH_PA_MARKER(CHARGER_CODE) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE USER_info (
    USER_CODE INT PRIMARY KEY,
    NAME VARCHAR(100),
    ID VARCHAR(50) UNIQUE NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    BIRTHDAY DATE,
    SEX CHAR(1),
    DISABLED_HUMAN CHAR(1),
    MULTIFUL_CHILD CHAR(1),
    ELECTRIC_CAR CHAR(1),
    PERSON_MERIT CHAR(1),
    TAX_PAYMENT CHAR(1),
    ALONE_FAMILY CHAR(1)
);

CREATE TABLE user_custom_info (
    USER_CODE INT PRIMARY KEY,
    HOME VARCHAR(255),
    COMPANY VARCHAR(255),
    AREA_1 VARCHAR(255),
    AREA_2 VARCHAR(255),
    AREA_3 VARCHAR(255),
    AREA_4 VARCHAR(255),
    AREA_5 VARCHAR(255),
    FOREIGN KEY (USER_CODE) REFERENCES USER_info(USER_CODE) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE USER_HISTORY (
    USER_CODE INT,
    DEPARTURE VARCHAR(255),
    DESTINATION VARCHAR(255),
    KILOMETERS DECIMAL(10, 2),
    DATE DATE,
    FOREIGN KEY (USER_CODE) REFERENCES USER_info(USER_CODE) ON DELETE CASCADE ON UPDATE CASCADE
);
